"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7120],{2336:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(6540),a=r(5489);function o(){return n.createElement(n.Fragment,null,n.createElement("hr",null),n.createElement("p",{className:"text-md"},"For any questions or to request a tutorial check out our ",n.createElement(a.A,{href:"https://supportportal.thalesgroup.com/community"},n.createElement("span",{className:"text-blue-600"},"community forum")),"."))}},8628:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(6540),a=r(5556),o=r.n(a),i=r(3244),s=r(5489);const c=e=>{let{href:t}=e;return n.createElement("div",null,n.createElement(s.A,{href:t},n.createElement("button",{style:{backgroundColor:"#171515"},className:"p-2 my-4 rounded-md border-none cursor-pointer text-white"},"GitHub ",n.createElement(i.NSh,{className:"text-white"}))))},l=e=>{let{href:t}=e;return n.createElement("div",null,n.createElement(s.A,{href:t},n.createElement("button",{className:"p-2 my-4 rounded-md border-none cursor-pointer"},"View Demo ",n.createElement(i.ifP,null))))},d=e=>{let{href:t,demourl:r}=e;return n.createElement("div",{className:"flex flex-row justify-between"},t?n.createElement(c,{href:t}):n.createElement(n.Fragment,null),r?n.createElement(l,{href:r}):n.createElement(n.Fragment,null))};d.propTypes={href:o().string.isRequired,demourl:o().string};const p=d},6076:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(6540),a=r(5556),o=r.n(a),i=r(8628);const s=e=>{let{embedId:t,github:r,demourl:a}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:"video-responsive"},n.createElement("iframe",{width:"853",height:"480",src:`https://www.youtube.com/embed/${t}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})),n.createElement(i.A,{href:r,demourl:a}))};s.propTypes={embedId:o().string.isRequired};const c=s},8340:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>y,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=r(8168),a=(r(6540),r(5680)),o=r(6076),i=r(2336);const s={sidebar_position:1},c="Data Protection Gateway",l={unversionedId:"connectors/data-encryption-in-transit-docker",id:"connectors/data-encryption-in-transit-docker",title:"Data Protection Gateway",description:"This demo shows how you can use a tool like CipherTrust Data Protection Gateway and do field level data encryption with no change to your application's code.",source:"@site/docs/connectors/data-encryption-in-transit-docker.mdx",sourceDirName:"connectors",slug:"/connectors/data-encryption-in-transit-docker",permalink:"/ciphertrust/docs/connectors/data-encryption-in-transit-docker",draft:!1,editUrl:"https://github.com/thalesgroup/ThalesGroup.github.io/tree/main/ciphertrust/docs/connectors/data-encryption-in-transit-docker.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Connectors",permalink:"/ciphertrust/docs/category/connectors"},next:{title:"Transparent Encryption for Kubernetes",permalink:"/ciphertrust/docs/connectors/cte-for-k8s"}},d={},p=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"How does it work?",id:"how-does-it-work",level:2},{value:"Step 1 - Add side-car container",id:"step-1---add-side-car-container",level:3},{value:"Step 2 - Configure DPG policies",id:"step-2---configure-dpg-policies",level:3},{value:"Step 3 - Sit Back and Relax",id:"step-3---sit-back-and-relax",level:3}],u={toc:p},m="wrapper";function y(e){let{components:t,...s}=e;return(0,a.yg)(m,(0,n.A)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"data-protection-gateway"},"Data Protection Gateway"),(0,a.yg)("p",null,"This demo shows how you can use a tool like CipherTrust Data Protection Gateway and do field level data encryption with ",(0,a.yg)("strong",{parentName:"p"},"no change")," to your application's code."),(0,a.yg)(o.A,{embedId:"EJun5McPRGY",github:"https://github.com/ThalesGroup/learn-ciphertrust/tree/main/learn/dpg/data-encryption-in-transit-docker",demourl:"https://main-yak.sneakpeak.dev/",mdxType:"YoutubeEmbed"}),(0,a.yg)("h2",{id:"pre-requisites"},"Pre-requisites"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"../category/deploy-ciphertrust-platform"},"Deployed Ciphertrust Manager instance"))),(0,a.yg)("h2",{id:"how-does-it-work"},"How does it work?"),(0,a.yg)("h3",{id:"step-1---add-side-car-container"},"Step 1 - Add side-car container"),(0,a.yg)("p",null,"You need to deploy a sidecar container or an agent that proxies all your requests to your container."),(0,a.yg)("p",null,"It looks something like this if you use ",(0,a.yg)("a",{parentName:"p",href:"https://docs.docker.com/compose/"},"docker-compose"),".\nNote - You can use DPG and CipherTrust manager with any other Kubernetes or Helm deployment."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-yaml",metastring:'title="docker-compose.yml"',title:'"docker-compose.yml"'},"version: '3.1'\n\nservices:\n  ciphertrust:\n    image: thalesgroup/ciphertrust-data-protection-gateway:latest\n    container_name: ciphertrust\n    environment:\n      - REG_TOKEN=<YOUR_DPG_REG_TOKEN>\n      - DESTINATION_URL=http://nextjs:3000\n      - DPG_PORT=9005\n      - TLS_ENABLED=false\n      - KMS=<YOUR_CM_IP>\n    ports:\n      - 80:9005\n")),(0,a.yg)("h3",{id:"step-2---configure-dpg-policies"},"Step 2 - Configure DPG policies"),(0,a.yg)("p",null,"Setup ",(0,a.yg)("a",{parentName:"p",href:"https://thalesdocs.com/ctp/cm/latest/admin/adp_ag/adp-prtcn-policy/create-prtcn-policy/index.html"},"DPG policies"),' in CipherTrust Manager to encrypt the fields that are encrypted for your POST requests and add a decrypt policy for your HTTP "GET" requests.'),(0,a.yg)("p",null,"This ensures that the proxy takes care of the encryption and decryption and the database finally ONLY gets encrypted data."),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"dpg policy example",src:r(4731).A,width:"1217",height:"901"})),(0,a.yg)("h3",{id:"step-3---sit-back-and-relax"},"Step 3 - Sit Back and Relax"),(0,a.yg)("p",null,"Let CipherTrust Manager do all the magic for you while you focus on building great applications."),(0,a.yg)(i.A,{mdxType:"TutorialFooter"}))}y.isMDXComponent=!0},4731:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"assets/images/dpg-policy-4d61afdf9e53224d150ad15cac905b5d.png"}}]);